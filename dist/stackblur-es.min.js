function t(r){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(r)}function r(t){throw new TypeError('"'+t+'" is read-only')}var a=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],e=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function n(t,a,e,n,o,g){if("string"==typeof t&&(t=document.getElementById(t)),t&&("HTMLImageElement"!==Object.prototype.toString.call(t).slice(8,-1)||"naturalWidth"in t)){var c=o?"offset":"natural",l=t[c+"Width"],s=t[c+"Height"];if("ImageBitmap"===Object.prototype.toString.call(t).slice(8,-1)&&(r("w"),l=t.width,r("h"),s=t.height),"string"==typeof a&&(a=document.getElementById(a)),a&&"getContext"in a){g||(a.style.width=l+"px",a.style.height=s+"px"),a.width=l,a.height=s;var v=a.getContext("2d");v.clearRect(0,0,l,s),v.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,l,s),isNaN(e)||e<1||(n?i(a,0,0,l,s,e):f(a,0,0,l,s,e))}}}function o(r,a,e,n,o){if("string"==typeof r&&(r=document.getElementById(r)),!r||"object"!==t(r)||!("getContext"in r))throw new TypeError("Expecting canvas with `getContext` method in processCanvasRGB(A) calls!");var i=r.getContext("2d");try{return i.getImageData(a,e,n,o)}catch(t){throw new Error("unable to access image data: "+t)}}function i(t,r,a,e,n,i){if(!(isNaN(i)||i<1)){i|=0;var f=o(t,r,a,e,n);f=g(f,r,a,e,n,i),t.getContext("2d").putImageData(f,r,a)}}function g(t,r,n,o,i,g){for(var f,c=t.data,s=2*g+1,v=o-1,u=i-1,b=g+1,x=b*(b+1)/2,h=new l,y=h,m=1;m<s;m++)y=y.next=new l,m===b&&(f=y);y.next=h;for(var p=null,d=null,w=0,B=0,C=a[g],E=e[g],I=0;I<i;I++){y=h;for(var S=c[B],N=c[B+1],R=c[B+2],D=c[B+3],G=0;G<b;G++)y.r=S,y.g=N,y.b=R,y.a=D,y=y.next;for(var T=0,j=0,A=0,H=0,W=b*S,O=b*N,L=b*R,M=b*D,k=x*S,q=x*N,z=x*R,F=x*D,J=1;J<b;J++){var K=B+((v<J?v:J)<<2),P=c[K],Q=c[K+1],U=c[K+2],V=c[K+3],X=b-J;k+=(y.r=P)*X,q+=(y.g=Q)*X,z+=(y.b=U)*X,F+=(y.a=V)*X,T+=P,j+=Q,A+=U,H+=V,y=y.next}p=h,d=f;for(var Y=0;Y<o;Y++){var Z=F*C>>>E;if(c[B+3]=Z,0!==Z){var $=255/Z;c[B]=(k*C>>>E)*$,c[B+1]=(q*C>>>E)*$,c[B+2]=(z*C>>>E)*$}else c[B]=c[B+1]=c[B+2]=0;k-=W,q-=O,z-=L,F-=M,W-=p.r,O-=p.g,L-=p.b,M-=p.a;var _=Y+g+1;_=w+(_<v?_:v)<<2,k+=T+=p.r=c[_],q+=j+=p.g=c[_+1],z+=A+=p.b=c[_+2],F+=H+=p.a=c[_+3],p=p.next;var tt=d,rt=tt.r,at=tt.g,et=tt.b,nt=tt.a;W+=rt,O+=at,L+=et,M+=nt,T-=rt,j-=at,A-=et,H-=nt,d=d.next,B+=4}w+=o}for(var ot=0;ot<o;ot++){var it=c[B=ot<<2],gt=c[B+1],ft=c[B+2],ct=c[B+3],lt=b*it,st=b*gt,vt=b*ft,ut=b*ct,bt=x*it,xt=x*gt,ht=x*ft,yt=x*ct;y=h;for(var mt=0;mt<b;mt++)y.r=it,y.g=gt,y.b=ft,y.a=ct,y=y.next;for(var pt=o,dt=0,wt=0,Bt=0,Ct=0,Et=1;Et<=g;Et++){B=pt+ot<<2;var It=b-Et;bt+=(y.r=it=c[B])*It,xt+=(y.g=gt=c[B+1])*It,ht+=(y.b=ft=c[B+2])*It,yt+=(y.a=ct=c[B+3])*It,Ct+=it,dt+=gt,wt+=ft,Bt+=ct,y=y.next,Et<u&&(pt+=o)}B=ot,p=h,d=f;for(var St=0;St<i;St++){var Nt=B<<2;c[Nt+3]=ct=yt*C>>>E,ct>0?(ct=255/ct,c[Nt]=(bt*C>>>E)*ct,c[Nt+1]=(xt*C>>>E)*ct,c[Nt+2]=(ht*C>>>E)*ct):c[Nt]=c[Nt+1]=c[Nt+2]=0,bt-=lt,xt-=st,ht-=vt,yt-=ut,lt-=p.r,st-=p.g,vt-=p.b,ut-=p.a,Nt=ot+((Nt=St+b)<u?Nt:u)*o<<2,bt+=Ct+=p.r=c[Nt],xt+=dt+=p.g=c[Nt+1],ht+=wt+=p.b=c[Nt+2],yt+=Bt+=p.a=c[Nt+3],p=p.next,lt+=it=d.r,st+=gt=d.g,vt+=ft=d.b,ut+=ct=d.a,Ct-=it,dt-=gt,wt-=ft,Bt-=ct,d=d.next,B+=o}}return t}function f(t,r,a,e,n,i){if(!(isNaN(i)||i<1)){i|=0;var g=o(t,r,a,e,n);g=c(g,r,a,e,n,i),t.getContext("2d").putImageData(g,r,a)}}function c(t,r,n,o,i,g){for(var f,c=t.data,s=2*g+1,v=o-1,u=i-1,b=g+1,x=b*(b+1)/2,h=new l,y=h,m=1;m<s;m++)y=y.next=new l,m===b&&(f=y);y.next=h;for(var p,d,w=null,B=null,C=a[g],E=e[g],I=0,S=0,N=0;N<i;N++){var R=c[S],D=c[S+1],G=c[S+2],T=b*R,j=b*D,A=b*G,H=x*R,W=x*D,O=x*G;y=h;for(var L=0;L<b;L++)y.r=R,y.g=D,y.b=G,y=y.next;for(var M=0,k=0,q=0,z=1;z<b;z++)p=S+((v<z?v:z)<<2),H+=(y.r=R=c[p])*(d=b-z),W+=(y.g=D=c[p+1])*d,O+=(y.b=G=c[p+2])*d,M+=R,k+=D,q+=G,y=y.next;w=h,B=f;for(var F=0;F<o;F++)c[S]=H*C>>>E,c[S+1]=W*C>>>E,c[S+2]=O*C>>>E,H-=T,W-=j,O-=A,T-=w.r,j-=w.g,A-=w.b,p=I+((p=F+g+1)<v?p:v)<<2,H+=M+=w.r=c[p],W+=k+=w.g=c[p+1],O+=q+=w.b=c[p+2],w=w.next,T+=R=B.r,j+=D=B.g,A+=G=B.b,M-=R,k-=D,q-=G,B=B.next,S+=4;I+=o}for(var J=0;J<o;J++){var K=c[S=J<<2],P=c[S+1],Q=c[S+2],U=b*K,V=b*P,X=b*Q,Y=x*K,Z=x*P,$=x*Q;y=h;for(var _=0;_<b;_++)y.r=K,y.g=P,y.b=Q,y=y.next;for(var tt=0,rt=0,at=0,et=1,nt=o;et<=g;et++)S=nt+J<<2,Y+=(y.r=K=c[S])*(d=b-et),Z+=(y.g=P=c[S+1])*d,$+=(y.b=Q=c[S+2])*d,tt+=K,rt+=P,at+=Q,y=y.next,et<u&&(nt+=o);S=J,w=h,B=f;for(var ot=0;ot<i;ot++)c[p=S<<2]=Y*C>>>E,c[p+1]=Z*C>>>E,c[p+2]=$*C>>>E,Y-=U,Z-=V,$-=X,U-=w.r,V-=w.g,X-=w.b,p=J+((p=ot+b)<u?p:u)*o<<2,Y+=tt+=w.r=c[p],Z+=rt+=w.g=c[p+1],$+=at+=w.b=c[p+2],w=w.next,U+=K=B.r,V+=P=B.g,X+=Q=B.b,tt-=K,rt-=P,at-=Q,B=B.next,S+=o}return t}var l=function t(){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.r=0,this.g=0,this.b=0,this.a=0,this.next=null};export{l as BlurStack,f as canvasRGB,i as canvasRGBA,n as image,c as imageDataRGB,g as imageDataRGBA};
//# sourceMappingURL=stackblur-es.min.js.map
